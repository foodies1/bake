<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />

<meta name="viewport" id="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<meta http-equiv="Cache-control" content="private, no-store, no-cache, must-revalidate" />
<meta http-equiv="Expires" content="Mon, 26 Jul 1997 05:00:00 GMT" />
<meta http-equiv="Pragma" content="no-cache" />
<title>토르텔리니 인 크림소스</title>
<meta name="title" content="토르텔리니 인 크림소스">
<meta name="robots" content="noindex,nofollow" />
<meta name="description" content="아이들 모두 좋아라 하는 토르텔리니와  크림 소스. 둘째와 함께 주방에 나란히 서서  휘리릭 휘리릭 소스 만들고 토르텔리니 삶고 파슬리도 다져 넣고 ..   우왕~~~맛나당]  
">
<meta name="site_name" content="토르텔리니 인 크림소스">
<meta name="keywords" content="NoodlePasta ">
<meta name="url" content="http://cy.cyworld.com/home/26198503/post/4B4FE78C6540031F83CE6401">
<meta name="image" content="또르텔리니.jpg">
<meta name="author" content="박성희">

<meta property="fb:app_id" content="1431707773788869">
<meta property="og:site_name" content="싸이홈 | BY 박성희">
<meta property="og:title" content="토르텔리니 인 크림소스">
<meta property="og:url" content="http://cy.cyworld.com/home/26198503/post/4B4FE78C6540031F83CE6401">
<meta property="og:image" content="또르텔리니.jpg">

<meta property="og:description" content="아이들 모두 좋아라 하는 토르텔리니와  크림 소스. 둘째와 함께 주방에 나란히 서서  휘리릭 휘리릭 소스 만들고 토르텔리니 삶고 파슬리도 다져 넣고 ..   우왕~~~맛나당]  
">
<meta property="og:type" content="article">
<link rel="stylesheet" href="/common/css/base.css?v=1118">
<link rel="stylesheet" href="/common/css/post.css?v=1118">
<link rel="stylesheet" href="/common/css/acticon.css">
<link rel="stylesheet" href="/common/css/jquery.mCustomScrollbar.css">
<!--[if lt IEIE 9]>
	<script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<script type="text/javascript" src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
<![endif]-->
<style type="text/css">
</style>
</head>
<body class="">

<div id="cyWrap">

	

	<div id="cyContent" class="">
		<input type="hidden" id="homeTid" value="26198503"/>
		<input type="hidden" id="postId" value="4B4FE78C6540031F83CE6401"/>
		<input type="hidden" id="userTid" value="26198503"/>
		<input type="hidden" id="CommentCountPerPage" value="10" />
		<input type="hidden" id="showCommentWrite" value="true" />
		<div id="postData">
			<div class="postTitle">
				<h2 class="subject" id="cyco-post-title">토르텔리니 인 크림소스</h2>
			</div>
			<div class="postDetail2"></div>
			<article class="postDetail">
						<section class="post imageBox cyco-imagelet">
								<figure>
									<img src="또르텔리니.jpg"> 
								</figure>
						</section>
						<section class="post fontBox cyco-fontlet">
							<div></div>
						</section>
						<section class="post textBox cyco-textlet">
							<div class="textData">
								아이들 모두 좋아라 하는 토르텔리니와 <br />크림 소스.<br />둘째와 함께 주방에 나란히 서서 <br />휘리릭 휘리릭 소스 만들고<br />토르텔리니 삶고<br />파슬리도 다져 넣고 ..<br /> <br />우왕~~~맛나당]<br /> 
							</div>
						</section>
						<section class="post fontBox cyco-fontlet">
							<div></div>
						</section>
			</article>

			<div class="txt_area"></div>

			<div class="postInfo">
				<p class="title"><span>부가정보</span></p>
				<ul class="infoList">
					<li class="date">
						<span class="name">등록일시</span>
						<p>2010.01.15 12:57 <span class="uploadTime">(업로드 2010.01.15 12:57)</span> </p>
					</li>
					<li class="auth">
							<span class="name">공개권한</span>
							<p>비공개</p>
						</li>
					<li class="tags">
						<span class="name">태그</span>
						<p><a href="/home/26198503?tag=NoodlePasta">#NoodlePasta</a></p>
					</li>
					<!--li class="etc">
						<span class="name">기타정보</span>
						<p><a class="" href="#">BGM [658]곡 감상하기</a><br />
						현재 지원하지 않는 [블라] 정보가 포함되어 있던 글입니다.</p>
					</li-->

					<script id="tpl-sp-people" type="text/x-handlebars-template">
					<li class="cyLike">
						<span class="name">공감한 사람</span>
						<p><span><em class="count">{{total_count}}</em>명의 사람들이 이 글을 공감했습니다.</span><br />
						{{#if has_people}}
							{{#each people}}
								<a href="/home/{{this.tid}}" target="_blank">{{this.nickname}}</a>{{#unless @last}},{{/unless}}
							{{/each}}
						{{/if}}
						{{#if has_remain}}... 외 {{remain_count}}명{{/if}}</p>
					</li>
					</script>

					<li class="share cyco-sharewarp">
						<span class="name">공유</span>
						
					</li>
				</ul>
			</div>
			<div class="btnWrap">
						<button class="btnModufy cyco-btn-mod-post" type="button">수정</button>
				<button class="btnDel cyco-btn-del-post" type="button">삭제</button>
			</div>
			<button class="btnCommentPop setBundle01" type="button"><span class="name">댓글</span><span class="count cyco-comment-count">6</span></button>
			<!-- 댓글영역 -->
			<div id="replyWrap">
				<div class="topWrap">
					<p class="title">댓글 <span class="cyco-comment-count">6</span></p>
					<button type="button" class="btnClose setBundle02">닫기</button>
					<button type="button" class="btnGotoPost">본문보기</button>
				</div>
				<!-- 댓글리스트 -->
				<div class="contWrap">

					<!-- S:템플릿 -->
					<!-- 댓글보기 -->
					<script id="tpl-comment" type="text/x-handlebars-template">
						<li class="{{depth2}}">
							<dl class="reply" data-comment_id="{{identity}}" data-parent_id="{{parentId}}">
								<dt class="name">{{writer.nickname}} {{#if isSecret}}<span class="secret setBundle02">비밀글</span>{{/if}}</dt>
								<dd class="thum {{thumb2}}">
									{{#if writer.identity}}
									<a href="/home/{{writer.identity}}">
										<span class="profileWrap01"><img src="{{writer.image}}" alt="" /></span>
									</a>
									{{else}}
									<span class="profileWrap01"><img src="{{writer.image}}" alt="" /></span>
									{{/if}}
								</dd>
									{{{description}}}
								<dd class="date">{{formatDate createdDate 'yyyy/MM/dd hh:mm'}}</dd>

								<dd class="util">
									{{#if showCommentWrite}}
									<span class="setBundle02 cyco-btn-new-comment"><button type="button">댓글쓰기</button></span>
									{{/if}}
									{{#if isCommentOwner}}
									<!--span class="setBundle02 cyco-btn-mod-comment"><button type="button">수정</button></span-->
									<span class="setBundle02 cyco-btn-del-comment"><button type="button" data-pw-comment="{{isPwComment}}">삭제</button></span>
									{{/if}}
								</dd>
								<dd class="wrapBase">
									<div class="b_acticon_wrap" id="acticon_wrap_{{identity}}"></div>
								</dd>
							</dl>
						</li>
					</script>
					<!-- 재댓글쓰기창 -->
					<script id="tpl-comment-reinput" type="text/x-handlebars-template">
					<dd class="cyco-comment-inputwrap" data-parent_id={{parentId}}>
						<div class="commentWrap depth2">
							<div class="nonMemberWrap">
								{{#if noLogin}}
								<input type="text" class="cyco-comment-name" maxlength="20" placeholder="이름" />
								<input type="password" class="cyco-comment-pass" maxlength="20" placeholder="비밀번호" />
								{{/if}}
							</div>
							<div class="inputWrap" id="inputWrap{{commentId}}">
								<textarea name="" class="cyco-comment-text" cols="30" rows="10" maxlength="3000" placeholder="댓글을 입력해 보세요."></textarea>
								<div class="utilWrap">
									<button class="btnEmoti setBundle02" name="acticonIcon"  id="acticonIcon{{commentId}}" type="button">액티콘</button>
									<label class="btnSecret"><input type="checkbox" class="cyco-opt-secret" /> <span class="text setBundle02">비밀글</span></label><button class="btnConfirm cyco-btn-save-comment" type="button">확인</button>
								</div>
							</div>
						</div>
					</dd>
					</script>
					<!-- 댓글삭제 확인창 -->
					<script id="tpl-comment-delete-confirm" type="text/x-handlebars-template">
					<dd class="cyco-comment-deletewrap">
						<div class="commentWrap depth2">
							<div class="nonMemberWrap">
								{{#if noLogin}}
								<input style="width: 320px;" type="text" class="cyco-comment-pass" placeholder="댓글 쓸 때 사용한 비밀번호를 입력하세요." />
								{{/if}}
							</div>
							<div class="inputWrap">
								<textarea class="cyco-comment-text" disabled style="background-color:#fff;">댓글을 삭제하시겠습니까?</textarea>
								<div class="utilWrap">
									<button class="btnConfirm cyco-btn-cancel" type="button">취소</button>
									<button class="btnConfirm cyco-btn-save" type="button">확인</button>
								</div>
							</div>
						</div>
					</dd>
					</script>

					<!-- E:템플릿 -->

					<ul class="depth1 cyco-comment-list">
					</ul>
					<div class="pagging">
						<button class="cyco-btn-refresh" type="button" style="display:none" data-nomore="0"></button>
					</div>

					<a class="btnGotoTop" href="#top">TOP</a>

					<div class="b_acticon_wrap" id="acticon_wrap_123456"></div>
					<div class="commentWrap cyco-comment-inputwrap">
						<div class="nonMemberWrap">
						</div>
						<div class="inputWrap" id="inputWrap123456">
							<textarea name="" class="cyco-comment-text" cols="30" rows="10" maxlength="3000" placeholder="댓글을 입력해 보세요."></textarea>
							<div class="utilWrap">
								<button class="btnEmoti setBundle02" name="acticonIcon"  id="acticonIcon123456" type="button">액티콘</button><label class="btnSecret">
								<input type="checkbox" class="cyco-opt-secret" /> <span class="text setBundle02">비밀글</span></label><button class="btnConfirm cyco-btn-save-comment" type="button">확인</button>
							</div>
						</div>
					</div>
				</div>
				<!-- //댓글리스트 -->
			</div>
			<!-- //댓글영역 -->
			<div class="gotoTopWrap">
				<a class="btnGotoTop" href="#cyWrap">TOP</a>
			</div>
		</div>
		<!-- dimmed -->
		<div id="dimmed"></div>
		<!-- //dimmed -->
		<!-- 알림 -->
		<aside id="notification">
			<div class="topWrap">
				<h2>알림</h2>
				<button class="btnClose" type="button">닫기</button>
			</div>
			
		</aside>
		<input type="hidden" id="isLogin" value="true" />
		<input type="hidden" id="myid" value="26198503" />
		<!-- //알림 -->
	</div>
	<!-- footer -->


	<!-- //footer -->
	<!-- 광고영역01 -->
	<!--
	<div class="adWrap01" id="pWingRightAd"></div>
	-->
	<!-- //광고영역01 -->
</div>
<!--
<img src="http://stat.cyworld.com/stat/stat.tiff?cp_url=[www_ndr.cyworld.com/cyhome/article_view/main/]" width="0" height="0" border="0" alt=""/>
-->

<!-- 액티콘창 -->
<script id="tpl-acticon-product-list" type="text/x-handlebars-template">
{{#each acticon_list}}
<li>
	<button class="cobtn b_act_ast" title="{{urldecode acticon_nm}}" type="button" data-acticon_no="{{acticon_no}}">
		<img alt="{{urldecode acticon_nm}}" border="0" height="56" src="{{urldecode acticon_img_f}}" width="80">
	</button>
</li>
{{/each}}
</script>
<script id="tpl-acticon-list" type="text/x-handlebars-template">
	<div class="acticon_main">
		<div class="act_top_nav">
			<button class="cobtn b_act_s_prev" title="이전목록이 없습니다." type="button">
				<span class="ir">이전</span>
			</button>
			<button class="cobtn b_act_s_forw" title="다음목록이 없습니다." type="button">
				<span class="ir">다음</span>
			</button>
			<div class="act_set_btn_wrap">
				<ul class="act_s_list">
					{{#each acticon_list}}
					<li class="off cyco-acticon-product" data-product_seq="{{product_seq}}" data-store_seq="{{store_seq}}" data-acticon_cnt="{{acticon_cnt}}">
						<a title="{{urldecode product_nm}}"><img alt="{{urldecode product_nm}}" border="0" height="29" src="{{urldecode acticon_img_t}}" width="50" /></a>
					</li>
					{{/each}}
					<li class="act_set_add">
						<a class="cobtn b_act_set_add" href="http://www.cyworld.com/mall/main/index.asp?menuCode=Acticon" target="blank" title="추가">
							<span class="ir">추가</span>
						</a>
					</li>
				</ul>
			</div>
		</div>
		<div class="act_list">
			<div class="viewport">
				<div class="overview">
					<ul class="clfix">
					</ul>
				</div>
			</div>
		</div>
	</div>
	<span class="bg_arrow_btm"></span>
</script>
<!-- //액티콘창 -->
<script id="tpl-ce-toast-box" type="text/x-handlebars-template">
<!-- 토스트 얼럿창 -->
<div class="toastWrap">
	<p>{{msg}}</p>
</div>
<!-- //토스트 얼럿창 -->
</script>

<!-- <script type="text/javascript" src="/common/js/jquery-1.8.3.min.js" charset="utf-8"></script> -->

<script type="text/javascript" src="/common/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="/common/js/jquery.easing.1.3.js"></script>
<!-- <script type="text/javascript" src="/common/js/jquery.fitvids.js"></script> -->
<script type="text/javascript" src="/common/js/jquery.mCustomScrollbar.concat.min.js"></script>
<!--script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="/cyco/inc/js/infinity.js"></script-->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.3/handlebars.min.js"></script> -->
<script type="text/javascript" src="/common/js/handlebars.min.js"></script>
<script type="text/javascript" src="/common/js/neo.common.js?v=20160222"></script>
<script type="text/javascript" src="/common/js/neo.news.min.js?v=1118"></script>
<!-- <script>jQuery.noConflict();</script> -->
<!-- <script type="text/javascript" src="/common/js/ZeroClipboard.min.js"></script>-->
<script type="text/javascript" src="/common/js/cyco.acticon.js"></script>
<script type="text/javascript" src="/common/js/cyco.share.js?v=1"></script>
<script type="text/javascript" src="/common/js/neo.thumb.js?v=1"></script>
<script type="text/javascript" src="/common/js/stat.js"></script>

<!-- 2017.03.23 hyunsuk add -->
<!--
<script type="text/javascript" src="/common/jwplayer/jwplayer.js"></script>
<script type="text/javascript" src="/common/aireJs/airelive_jwplayer.js"></script>
-->


<!-- 2017.04.21 hyunsuk add -->
<script type="text/javascript" src="/common/js/app.js?v=3"></script>
<script type="text/javascript" src="/common/js/appPhoto.js?v=10"></script>
<script>
	var cyMobile = new AireliveMobile();
	var isWeb		= cyMobile.isWeb();
	var isAndroid	= cyMobile.isAndroid();
	var isIos		= cyMobile.isIos();
	var isType = "";

	if(isWeb && isAndroid == null && isIos == null){
		isType = "W";
	}
	if(isWeb == "" && isAndroid == "Android"){
		isType = "A";
	}
	if(isWeb == "" && isAndroid == null){
		isType = "I";
	}


 	var hTid = "26198503";		//홈주인
 	var cNo = "4B4FE78C6540031F83CE6401";
 	var uTid = "26198503";	//방문자

	contentOpen('post',cNo,false,hTid);
</script>

<script type="text/javascript">

CyHomeThumb.getThumbUrl();

(function(Handlebars) {
    'use strict';

    Handlebars.registerHelper('nl2br', function(text) {
        text = Handlebars.Utils.escapeExpression(text);
        text = text.replace(/(\r\n|\n|\r)/gm, '<br>');
        return new Handlebars.SafeString(text);
    });

    Handlebars.registerHelper('substr', function(text, len) {
        if ( !text ) {
            return text;
        }

        if ( len <= 0 || text.length <= len || text.length == 0 ) {
            return new Handlebars.SafeString(text);
        }

        text = text.substr(0, len) + '...';
        return new Handlebars.SafeString(text);
    });

    Handlebars.registerHelper('formatDate',function(timestamp, format){
    	//pattern = 'yyyy/MM/dd hh:mm'
    	var date = new Date(timestamp);
    	var Y,m,d,H,i,s;
    	//console.info('date', date);
    	Y = date.getFullYear();
    	m = date.getMonth() +1;
    	d = date.getDate();
    	H = date.getHours();
    	i = date.getMinutes();
    	s = date.getSeconds();

    	m = ( m < 10 ) ? ('0' + m) : m;
    	H = ( H < 10 ) ? ('0' + H) : H;
    	i = ( i < 10 ) ? ('0' + i) : i;
    	s = ( s < 10 ) ? ('0' + s) : s;


    	var ds = Y + '/' + m + '/' + d + ' ' + H + ':' + i;
    	return ds;
    });



})(Handlebars);

(function (root, factory) {
    'use strict';
    if (typeof module === 'object') {
        module.exports = factory;
    } else if (typeof define === 'function' && define.amd) {
        define(function () {
            return factory;
        });
    } else {
        root.CyHome = factory;
    }
}(this, function ($, window, document, Handlebars) {
    'use strict';

var Template;
    (function (Handlebars) { //{{{
        'use strict';
        Template = {
            //템플릿파일(id)을 입력받아 context와 컴바인하고 html을 돌려준다
            html : function(id, context) {
                var context = context || {};
                var tplScript = $(id).html();
                //console.info('tplScript',tplScript);
                var tpl = Handlebars.compile(tplScript);
                var html = tpl(context);
                //console.info('Handlebars.wrap',context, html);
                return html;
            },

            //본문 Text필터
            filter : {
                text : function(context) {
                    //nl2br
                    context = Util.encode(context);
                    context = Util.grepURL(context);
                    //context = Util.grepHashTag(context);
                    context = Util.nl2br(context);

                    //console.info('텍스트필터적용', context);
                    return context;
                }
            }
        };
    })(Handlebars); //}}}

var Util;
    (function ($) { //{{{
        'use strict';
        Util = {
            toast : function(msg, delay) {
               	var delay = delay || 500;
               	var data = {
               		"msg": msg
               	};
               	var $toast = $(Template.html('#tpl-ce-toast-box', data));
               	$toast.appendTo('.postInfo');
               	window.setTimeout(function() {
               		$toast.remove();
               	}, delay);
			},

            //nl2br
            nl2br : function(context) {
                return context.replace(/\n/g, '<br />');
            },

            //HTML entity encode
            encode : function(context) {
                return $('<div/>').text(context).html();
            },

            //grep URL
            grepURL: function(context) {
                var LETTER  = '\\u1100-\\u11FF\\u3131-\\u318E\\uAC00-\\uD7A3\\u3041-\\u3096\\u3099-\\u309F\\u30A0-\\u30FF\\u31F0-\\u31FF\\u4E00-\\u9FD5\\uF900-\\uFAD9\\u3300-\\u33FF\\u3400-\\u4DB5';
                var scheme         = 'https?:\/\/';
                var www            = 'www\\.';
                var ip             = '\d{1,3}\\.\d{1,3}\\.\d{1,3}\\.\d{1,3}';
                var subdomain      = '[\-a-zA-Z0-9_\\.]+\\.';   //subdomain을 3차,4차등도 표현하기 위해 \.추가
                var name           = '[\-a-zA-Z0-9]+\\.';      //맨앞에 '-' 오면 안되지만, 1글자 이름을 지원하기 위해 수정
                var tld            = '[a-zA-Z]{2,15}(?:\\.[a-zA-Z]{2,15})?'; //tld는 2~15자까지 허용
                var port           = ':[0-9]{2,4}';
                var query_string   = '[\/\?#][a-zA-Z0-9\\.\\_\/~#\$&'+ LETTER  +',:\/\/\!=;%\+\?\-]*[a-zA-Z0-9'+ LETTER +',:\/\/\!\/#\$=\?]{0,1}';


                var pattern = new RegExp('((?:'+scheme+'(?:'+ip+'|'+subdomain+'?'+name+tld+')|(?:'+scheme+')?'+www+name+tld+')(?:'+port+')?(?:'+query_string+')?)', 'ig');

                /*
                var match = [];
                while(match = pattern.exec(context)) {
                    //console.info('match', match[0]);
                }
                console.info('pattern', pattern);
                */
                var out = context.replace(pattern, '<a href="http://$1" target="_blank">$1</a>').replace('http://http', 'http');
                //console.info('grepURL', out);
                return out;
            },

            //grep HashTag
            grepHashTag: function(context) {
                var TAG_LETTER = "\u1100-\u11FF\u3131-\u318E\uAC00-\uD7A3\u3041-\u3096\u3099-\u309F\u30A0-\u30FF\u31F0-\u31FF\u4E00-\u9FD5\uF900-\uFAD9\u3300-\u33FF\u3400-\u4DB5";
                //해시태그 제약사항 @see Issues Issues 4691
                var pattern = new RegExp('(#['+TAG_LETTER+'0-9a-zA-Z_]{1,42})', 'g');
                var out = context.replace(pattern, '<a href="/cyco/search/tags/$1" target="_blank">$1</a>');
                //console.info('grepHashTag', out);
                return out;
            }

        };
    })(jQuery); //}}}


function CyHome(elements, options) {
    'use strict';

    var sort, svc, q, tag;

    return;
}
(function () { //{{{
    'use strict';




})(); //}}}

    CyHome.Template = Template;
    CyHome.Util = Util;

    CyHome.prototype = { //{{{

        //조회 필터 세팅
        "setSearchFilter": function(opt) {
            //정렬방식
            if ( opt.sort ) {
                this.sort = opt.sort;
            }
            //조회필터
            this.svc = opt.svc||'';

            //검색필터
            this.q = opt.q||'';

            //태그
            this.tag = opt.tag||'';
        },

        "init" : function () { //{{{
            var $window = $(window);
            var $document = $(document);

            var homeTid = $('#homeTid').val()||'';
            var postId 	= $('#postId').val()||'';
            var userTid	= $('#userTid').val()||'';


        	//이글을 공감했던 사람들
        	$.ajax({
        	    url: '/if/home/' + homeTid + '/post/' + postId + '/spinfo',
        	    dataType: 'json',
        	    data: {
        	        "homeId": homeTid,
        	        "id": postId
        	    },
        	    success: function(data, status, xhr) {
        	        //console.info('success', data);
        	        if ( ! data.total_count || data.total_count ==  0 ) {
        	        	return;
        	        }
        	        var sp = {
        	        	"total_count": data.total_count,
        	        	"has_people": data.has_people,
        	        	"people": data.people,
        	        	"has_remain": data.has_remain,
        	        	"remain_count": data.remain_count
        	        }
        	        var sp = Template.html('#tpl-sp-people', sp);
        	        $('.postInfo .infoList .cyco-sharewarp').before(sp);
        	    },
        	    error: function(e, error) {
        	        //console.error('error', error);
        	    },
        	    complete: function(xhr, status) {
        	        //console.debug('complete');
        	    }
        	});


			$document

	        	//댓글 더보기
	        	.on('click', '#replyWrap .pagging button', function(event) {
	        		//console.info('댓글 더보기', event.target, 'nomore', $(event.target).data('nomore'));
	        		var JOB = "reply_going";
	        		if ( $window.data(JOB) ) {
	        			return;
	        		}
	        		$window.data(JOB, 1);

	        		var has_more = true;
	        		var $el = $(event.target);
	        		var count = parseInt($('#CommentCountPerPage').val()) || 10;
	        		var last_comment_id = '';
	        		var last_parent_id = '';
	        		var direction = 1;

	        		if ( ! $el.hasClass('cyco-btn-refresh') && $el.data('nomore') == "1") {
	        			//console.info('더보기 없음');
	        			$window.removeData(JOB);
	        			return;
	        		}

	        		if ( $el.hasClass('cyco-btn-refresh')) {
	        			// just refresh
	        			//console.info('just refresh');
	        		} else if ( $el.hasClass('btnNext')) {
	        			direction = 1;
	        			last_comment_id = $('.reply:last').data('comment_id')||'';
	        			last_parent_id = $('.reply:last').data('parent_id')||'';
	        			//btnPrev nomore해제
	        			$el.siblings('.btnPrev').data('nomore', 0);

	        		} else if ( $el.hasClass('btnPrev')) {
	        			direction = 0;
	        			last_comment_id = $('.reply:first').data('comment_id')||'';
	        			last_parent_id = $('.reply:first').data('parent_id')||'';
	        			$el.siblings('.btnNext').data('nomore', 0);
	        		}

	        		var comments = '';

                    $.ajax({
                        url: '/home/' + homeTid + '/post/' + postId + '/comment',
                        cache: false,
                        dataType: 'json',
                        data: {
                            "direction": direction,
                            "listsize": count + 1,
                            "parentid": last_parent_id,
                            "lastid": last_comment_id,
                            //"ts": Date.now()
                        },
                        success: function(data, status, xhr) {
                            //console.info('success', data);

                            var homeTid = $('#homeTid').val()||'';
                            var postId 	= $('#postId').val()||'';
                            var userTid	= $('#userTid').val()||'';
                            var showCommentWrite = ($('#showCommentWrite').val() == "true") ? true : false;


                            //has_more;
                            if ( data.commentList.length > count ) {
                            	//console.info('더있음');
                            	has_more = true;
                            	if ( direction ) {
                            		data.commentList.pop();	//마지막 버림
                            	} else {
                            		data.commentList.shift();	//처음 버림
                            	}
                            } else {
                            	//console.info('더없음');
                            	has_more = false;
                            	$el.data('nomore', 1);
                            }

                            //프로필 맵 만들기
                            var profileMap = [];
                            $.each(data.profileList, function(i, profile) {
                            	profileMap[profile.identity] = profile;
                            });

                            //console.info('profileMap', profileMap);

                            $.each(data.commentList, function(i, comment) {
                            	//재댓글
                                if ( comment.identity != comment.parentId ) {
                                	//재댓글
                                	comment.depth2 = "depth2";
                                	comment.thumb2 = "setBundle02";
                                }
                            	//글주인
                            	comment.isCommentOwner = false;
                            	if ( homeTid == userTid
                            			|| (userTid != '' && comment.writer.identity == userTid)
                            			|| (comment.commentAuth == 'PUBLIC' && comment.isAnonymousOwner) ) {
                            		comment.isCommentOwner = true;
                            	}
                            	//비밀글
                            	comment.isSecret = false;
                            	if ( comment.commentAuth == "PRIVATE") {
                            		comment.isSecret = true;
                            	}
                            	//삭제버튼 노출
                            	comment.isPwComment = false;
                            	if ( homeTid != userTid && comment.isAnonymousOwner ) {
                            		comment.isPwComment = true;
                            	}
                            	//프로필
                            	if ( !comment.writer ) {
                            		comment.writer = {};
                            	}
                            	comment.writer.image = "http://cythumb.cyworld.com/84x84/c1img.cyworld.co.kr/img/mobile/app/image_error_list.png";
                            	if ( (comment.writer.identity in profileMap) ) {
                            		if ( (profileMap[comment.writer.identity]).image ) {
                            			comment.writer.image = "http://cythumb.cyworld.com/84x84/" + (profileMap[comment.writer.identity]).image;
                            		}
                            	}
                            	//댓글쓰기 권한
                            	comment.showCommentWrite = showCommentWrite;


                            	//content
                            	var content = '';

                            	var widthValue = 0;
                    		var imgType = "";
                    		var itemValue = "";

                            	$.each(comment.contentModel, function(i, item) {
                            		switch(item.type) {
                            		case "text":
								content += '<dd class="data">' + Template.filter.text(item.value) + '</dd>';
								break;
                            		case "acticon":
								content += '<dd class="image"><figure class="acticon-in">';
								content += '<img src="' + item.value + '" alt="'+ item.title +'" />';
								content += '</figure></dd>';
								break;
                            		case "VODE":

                            			if( eval(item.width) > eval(item.height) ){
                            				widthValue = "225px";
                            				imgType = "가로이미지";
                            			}else{
                            				widthValue = "155px";
                            				imgType = "세로이미지";
                            			}

	                            			itemValue = item.value;
	                        			itemValue = itemValue.replace('thumbA.jpg','thumbA_400.jpg');
	                        			itemValue = "http://image.airelive.com/" + itemValue;

								content += '<dd class="image">';
								content += '<img src="' + itemValue + '" alt="아바타이미지" width="' + widthValue + '" /><br/>';
								//content += '웹에서 영상재생 기능은 준비중입니다';
								content += '</dd>';

								/* content += '<dd class="image"><figure class="vode">';
								content += '<img src="' + item.value + '" alt="'+ item.title +'" />';
								content += '</figure></dd>'; */
								break;
                            		case "IMAGE":
                            			/*
                            				세로 이미지인 경우 : width : 155
                            				가로 이미지인 경우 : width : 225
                            				로 픽스 시킨다
                            			*/
	                            			if( eval(item.width) > eval(item.height) ){
	                            				widthValue = "225px";
	                            				imgType = "가로이미지";
	                            			}else{
	                            				widthValue = "155px";
	                            				imgType = "세로이미지";
	                            			}
                            				itemValue = item.value;
                            				itemValue = itemValue.replace('thumbA.jpg','thumbA_400.jpg');
							content += '<dd class="image">';
							content += '<img src="' + itemValue + '" alt="'+ item.title +'" width="' + widthValue + '" />';
							content += '</dd>';
	                            			break;
                            		case "AVAT":
                            				itemValue = item.value;
    	                        			itemValue = itemValue.replace('www.', 'image.');
							content += '<dd class="image">';
							content += '<img src="' + itemValue + '" alt="'+ imgType +'" />';
							content += '</dd>';
	                            			break;
                            		}
                            	});
                            	comment.description = content;

                            	var html = Template.html('#tpl-comment', comment);
                            	comments += html;
                            	//console.info('comment', html);

                            });

                            //console.info('comments', comments);

                        	//그리기
                        	$('.cyco-comment-list')
                        		.empty()
                        		.append(comments)
                        	;

                        	//더보기 숨김
                        	if ( data.totalCount <= count ) {
                        		//console.info('더보기 숨김', data.totalCount, ' <= ', count );
                        		$('#replyWrap .pagging').css({display:"none"});
                        	} else {
                        		//console.info('더보기 보기', data.totalCount, ' <= ', count );
                        		$('#replyWrap .pagging').css({display:"block"});
                        	}

                        	//댓글 카운트 갱신
                        	$('.cyco-comment-count').text(data.totalCount);

                        	//액티콘 플레이
                        	CycoActicon.init('.acticon-in', 200);
                        },
                        error: function(e, error) {
                            //console.error('error', error);
                        },
                        complete: function(xhr, status) {
                            //console.debug('complete');
                        	$window.removeData(JOB);

							//댓글입력창 갱신
							$('.cyco-comment-inputwrap')
								.find('input').val('')
								.end()
								.find('textarea').val('')
								.end()
								.find('.acticonBox').remove()
								.end()
								.find('input[type="checkbox"]').removeAttr('checked')
							;

                        }

                    });
	        	})


	        	//댓글 쓰기
	        	.on('click', '.cyco-btn-save-comment', function(event){
	        		var JOB = "ing_save_comment";
	        		if ( $window.data(JOB) ) {
	        			return;
	        		}


	        		var $el = $(this).parents('.cyco-comment-inputwrap');
	        		$window.data(JOB, 1);

	        		var box = [];

	        		var message = $el.find('.cyco-comment-text').attr('placeholder');

	        		var text = $el.find('.cyco-comment-text').val()||'';


	        		if ( text != '' ) {
	        			box.push({"type":"text", "value": text});
	        		}

	        		//액티콘
	        		var acticon = '';
	        		if ( $el.find('.acticon-in').length > 0 ) {
	        			var acticon_id = $el.find('.acticon-in').attr('id').replace("acticon-in-", "");
	        			var acticon_f_acticon = $el.find('.acticon-in').data('f_acticon');
	        			var acticon_title = $el.find('.acticon-in img').attr('title');
	        			var acticon_product_seq = $el.find('.acticon-in').data('product_seq');
	        			var acticon_no = $el.find('.acticon-in').data('acticon_no');

	        			box.push({
			                    "type": "acticon",
			                    "value": acticon_f_acticon,
			                    "title": acticon_title,
			                    "product_seq": acticon_product_seq,
			                    "acticon_no" : acticon_no,
			                });

	        		}

	        		if ( box.length == 0 ) {
	        			alert('내용을 입력하세요');
	        			$window.removeData(JOB);
	        			return;
	        		}

	        		var content = JSON.stringify(box);

	        		var parentid = $el.data('parent_id')||'';
	        		var authcode = ($el.find('.cyco-opt-secret:checked').length) ? 0 : 4;
	        		var nickname = $el.find('.cyco-comment-name').val()||"";
	        		var password = $el.find('.cyco-comment-pass').val()||"";

	        		var comment = {
	        			"servicetype": "P",
	        			"content": content,
	        			"authcode": authcode,
	        			"parentid": parentid,
	        			"nickname": nickname,
	        			"password": password
	        		};

	        		//console.info("댓글저장:", comment, 'parent_id:', parentid);
	        		//return;

	        		$.ajax({
                        url: '/home/' + homeTid + '/post/' + postId + '/comment',
                        cache: false,
                        dataType: 'json',
                        data: comment,
                        method: "POST",
                        success: function(data, status, xhr) {
                            //console.info('success', data);
							message = '댓글 쓰기를 완료했습니다';
                        },
                        error: function(e, error) {
                            //console.error('error', error);
                            message = '댓글 작성 중 오류가 발생했습니다.';
                        },
                        complete: function(xhr, status) {
                            //console.debug('complete');
							//댓글 목록 화면 갱신 /
                           	$('#replyWrap .pagging .cyco-btn-refresh').trigger('click');
							Util.toast(message);
                            $window.removeData(JOB);
                        }
                    });
	        	})

	        	// 댓글쓰기  창 열기
	        	.on('click', '.cyco-btn-new-comment button', function(event){
	        		//console.info('댓글쓰기');
	        		var $this = $(this);
	        		var data = {
	        			"noLogin": ($('#userTid').val() == "") ? true : false,
	        			"commentId": $this.parents('.reply').data('comment_id'),
	        			"parentId": $this.parents('.reply').data('parent_id')
	        		};
	        		var html = Template.html('#tpl-comment-reinput', data);

	        		if ( $this.parents('dl').has('.cyco-comment-inputwrap').length ) {
	        			//console.info('있음');
	        			$this.parents('dl').find('.cyco-comment-inputwrap').remove();
	        		} else {
	        			//console.info('없음');
	        			//$this.parents('dd').after($(html));
	        			$this.parents('dl').find('.wrapBase').after($(html));
	        		}
	        	})

	        	//댓글 삭제
				.on('click', '.cyco-btn-del-comment button', function(event) {
					var JOB = "ing_delete_comment";
	        		if ( $window.data(JOB) ) {
	        			return;
	        		}
	        		$window.data(JOB, 1);

					var $this = $(this);
					var $el = $(this).parents('li');
					var commentId = $el.find('.reply').data('comment_id');
					var isPwComment = $this.data('pw-comment')||false;

					var passwd = '';
					if ( isPwComment ) {
						passwd = prompt('댓글 쓸 때 사용한 비밀번호를 입력하세요.');
						if ( passwd === null ) {
							$window.removeData(JOB);
							return;
						}
					} else if ( ! confirm ('댓글을 삭제하시겠습니까?') ) {
						$window.removeData(JOB);
						return;
					}

					//console.info('댓글삭제:', commentId, 'passwd', passwd);

                    $.ajax({
                        url: '/home/' + homeTid + '/post/' + postId + '/comment/' + commentId +'/delete',
                        cache: false,
                        dataType: 'json',
                        data: {
                            "homeId": homeTid,
                            "postid": postId,
                            "commentid": commentId,
                            "password": passwd
                        },
                        method: "POST",
                        success: function(data, status, xhr) {
                            //console.info('success', data);
                          	//댓글 목록 화면 갱신 /
                          	$window.removeData(JOB);
                           	$('#replyWrap .pagging .cyco-btn-refresh').trigger('click');
                        },
                        error: function(e, error) {
                            //console.error('error', error);
                            alert('댓글을 삭제하는 데 실패했습니다.');
                            $window.removeData(JOB);
                        },
                        complete: function(xhr, status) {
                            //console.debug('complete');
                        }
                    });

				})

				//포스트 삭제
				.on('click', '.cyco-btn-del-post', function(event){
					//console.info('포스트삭제');
					var JOB = "ing_delete_post";
	        		if ( $window.data(JOB) ) {
	        			return;
	        		}
	        		$window.data(JOB, 1);

					if ( !confirm('글을 정말 삭제하시겠습니까?') ) {
						$window.removeData(JOB);
						return;
					}
					$.ajax({
                        url: '/if/home/' + homeTid  + '/post/' + postId + '/remove',
                        cache: false,
                        dataType: 'json',
                        data: {
                            "homeId": homeTid,
                            "postid": postId
                        },
                        method: "POST",
                        success: function(data, status, xhr) {
                            //console.info('success', data);
                            try {
                            	window.location.href='/home/' + homeTid;
                        		//parent.history.back(-1);
                        	} catch(e) {
                        		window.location.href='/home/' + homeTid;
                        	}
                        },
                        error: function(e, error) {
                            //console.error('error', error);
                            alert('글을 삭제하는 도중 문제가 발생했습니다.');
                        },
                        complete: function(xhr, status) {
                            //console.debug('complete');
                        	$window.removeData(JOB);
                        }
                    });

				})

				//포스트 수정
				.on('click', '.cyco-btn-mod-post', function(event){
					window.location.href = "/home/" + $('#homeTid').val() + '/post/' + $('#postId').val() + '/edit';
				})


				//쥬크박스 플레이
				.on('click', '.cyco-btn-play-bgm', function(event){
					var $this = $(this);
					var playone = $this.parents('.cyco-jukebox-data').data('link_code') || '';

					//console.info('플레이:', playone);

					var code_cate = 'L';
					if ( $('.cyco-jukebox-data:first').data('song_id') != '' ) {
						code_cate = 'S';
						playone = $this.parents('.cyco-jukebox-data').data('song_id') || '';
					}

					var music_list = [];	//플레이 리스트
					var music_remain =[];	//플레이 리스트 뒷
					var mseq;

					var found = false;
					$.each($('.cyco-jukebox-data'), function(i, item){
						if ( code_cate == 'S' ) {
							mseq = $(item).data('song_id');
						} else {
							mseq = $(item).data('link_code');
						}
						if ( mseq == playone ) {
							found = true;
						}
						if ( found ) {
							music_list.push(mseq);
						} else {
							music_remain.push(mseq);
						}
					});

					var music_seq = $.merge(music_list, music_remain);
					//console.info('music_seq', music_seq);

					var link_code = $('.cyco-jukebox-data').data('link_code')||'';
					var song_id = $('.cyco-jukebox-data').data('song_id')||'';
					var tid = $('#homeTid').val()||'';

					$.ajax({
                        url: '/if/home/' + tid + '/postdummy',
                        async: false,
                        success: function(data, status, xhr) {
                            //console.info('success', data);
                            //console.info('link_code', link_code, 'song_id', song_id);
                            var url = 'http://music.cyworld.com/mybgm/player/?h=' + tid;
                            url += '&s=' + music_seq.join('.') + '&c=' + code_cate;
                            url += '&p=' + encodeURIComponent($('#cyco-post-title').text());
                            var jukebox_play = window.open(
                            	"",
                            	'jukebox_play',
                            	'width=345,height=780,location=yes,scrollbars=no,menubars=no,toolbars=no,resizable=no,left=100, top=0'
                            );
                            jukebox_play.location.href = url;
                            jukebox_play.focus();
                        },
                        error: function(e, error) {
                            //console.error('error', error);
                        },
                        complete: function(xhr, status) {
                            //console.debug('complete');
                        }
                    });

				})

            ;

			//댓글로딩
			$('#replyWrap .pagging .cyco-btn-refresh').trigger('click');

        } //}}}
    };

    return CyHome;
}(jQuery, window, document, Handlebars)));





//MAIN
(function($) {
    "use strict";


    $(window).load(function() {
    	cyPostBundle();
    });

    var cyhome = new CyHome()
    cyhome.init();

	//공유하기
	CycoSharer.init('.cyco-sharewarp');

	//액티콘 플레이
	CycoActicon.init('.acticon-in', 200);

	//광고

		//alert("PC");
		AD.LoadAdPost();
})(jQuery);

</script>

	<!-- Piwik -->
	<!--

	2017.08.22 hyunsuk 주석처리함

	<script type="text/javascript">
	  var statId = getStatID('8ea768572c3e45ed0e53fdfed21338c0');
	  var _paq = _paq || [];
	  _paq.push(['trackPageView']);
	  _paq.push(['enableLinkTracking']);
	  (function() {
	    var u="//cystat.cyworld.com/";
	    _paq.push(['setTrackerUrl', u+'piwik.php']);
	    _paq.push(['setSiteId', 2]);
	    _paq.push(['setUserId', statId]);
	    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
	    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
	  })();
	</script>
	 -->

</body>
</html>
